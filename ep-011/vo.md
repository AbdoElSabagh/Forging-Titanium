Hey everybody! Thanks for checking out this screencast. In this week's episode of Forging Titanium we'll be looking at how we can use the Javascript library underscore.js in our Titanium apps.In its own words, Underscore is a utility-belt library for JavaScript that provides a lot of the functional programming support that you would expect in Prototype.js, but without extending any of the built-in JavaScript objects. If that doesn't give you a clear enough picture of what Underscore can do, just think of it as jQuery without the DOM. It includes functions for templating, type checking, aggregation, and most notably manipulation of arrays, objects and functions.So obviously the first thing we need to do is go download underscore.js. Enter the URL <https://github.com/documentcloud/underscore/> into your web browser... then click on the underscore.js file. Now download the file to your computer from the "raw" link. Typically we'd just download the packaged 1.2.0 version available on the main underscore.js website, but at the time of this episode, we need the absolute latest source version. That's because yesterday we submitted a patch to the underscore.js project so that it would support being loaded as a CommonJS module in Titanium. Big thanks goes out to Jeremy Ashkenas for the quick turn around on merging this feature, and it should be present in the next official release.Now that we know where to get underscore, let's take a look at how we can use it. In the following sample app, we'll explore a very common task that can be greatly simplified with some clever underscore usage. What we'll do here is represent a raw JSON array of unordered, unformatted objects as a Titanium TableView. Before doing so, though, we'll make heavy use of underscore to mold the data into a form a bit more visually pleasing. I statically defined the JSON array in this example so it's readily apparent what's going on, but you can most certainly use these methods on local and remote data alike. The very first thing you'll notice is the way we require() the underscore library as a module. Rather than export each of its 60+ functions individually, it exports them all at once, bound to the underscore character. For this reason, we reference the underscore character directly when creating an alias in our code for the module. Now that we have the power of the underscore library loaded into our app's underscore character, let's take a look at the JSON data we're dealing with. As you can see, it's a poorly organized list of different types of alcohol, each with an id number, an availability indicator, and a quantity. Notice that there's duplicated records, unformatted values, and no discernible order. Next we see the definition of 2 object literals that contain Titanium UI formatting properties. The first is the properties that will used by all rows in our TableView. The second is the properties used by the Label in the header and footer of our TableView. By defining these here and applying them later with underscore we create a clean separation between our UI code and app logic. This will make the code for creating our TableView much easier to read and maintain. It also encourages less duplication of shared configurations, as we'll see when defining our header and footer. 