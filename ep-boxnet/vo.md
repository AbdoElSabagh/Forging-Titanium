Hey everybody! Welcome to another episode of Forging Titanium! The series took a short hiatus with the new year and Titanium Week, but we hope to get back on track with regular episodes starting today. To kick off the first episode of the year, we're going to give you a crash course in the free and open source CommonJS module for Box.com integration. We'll run through everything from setting up your own Box account, all the way to a functioning, cross-platform Titanium sample app that uses the module.At a high level, Box is a cloud storage solution that caters to individuals and companies alike. They offer free plans that give up to 5GB of cloud storage to any user, accessible anywhere. You can get your data on the web, your desktop, and even your mobile devices. You even get integrated collaboration, allowing you to create workspaces where multiple people can share, edit, and comment on files.So why are we talking about it in Forging Titanium? Well, because along with this great end user functionality, Box also comes with a robust developer API for both Android and iOS. And guess what? There's an open source CommonJS module that allows you to leverage the API on both platforms in Titanium.OK, enough talking about Box, let's get into how you can start using it. The first thing you're going to do is go out and get the Box module from its public repository on Github. The link can be found in the accompanying blog post, or you can use the one on the screen right now.** Overlay http://bit.ly/appc_box **From here you can get the module one of 2 ways. You can clone the repository, like this:** CLONE THE REPO **Or you can simply download it from the download menu on Github** DOWNLOAD THE REPO **Downloading is probably easier, but cloning affords you the opportunity to contribute back to the module if you so choose.Now that we have the module, we're gonna need a free account from Box.com to get our API key. To do so is simple, just go to box.com... click "sign up"... click "sign up now" under the "personal" section... then fill out the necessary information. You should receive confirmation of your account shortly afterwards.After this, we'll login with the new account... and see the home page of our profile. As you can see, I've added a few files and folders to my account, and you can feel free to do the same. let's go straight to the developer page, where we can create a new box application. Go to www.box.com/developers/services... From here we'll click "create new application"... read and click "accept" to accept the developer terms... then fill in the appropriate values for your app and click "continue"... Once your app is successfully created, you'll have access to your new API key, seen here...** HIGHLIGHT API KEY **You can retrieve the API key at anytime by going into the edit menu for your application and then scroll down to the "backend parameters" section. Here you can also fill in the "callback URL" for your application. In a web-based box app, this is the URL that receives your authentication token. For our purposes, though, this can literally be any legitimate website URL, as all the authentication process is handled in the module code. The website will display briefly after login, so it's best to display either a blank page, or something that let's the user know they are being redirected back to the app...Now that we have the module, a box account, and a box application set up, let's run the sample app included in the module repository. I'll just open up Titanium Studio and here's the appcelerator_box_com repository that I've already imported. Before doing anything else, let's quickly open up the `controllers/ApplicationController.js` and `views/MainWindow.js` files. Here we will set the new API key and callback URL for the application. These are the values that we set on the box.com website...With those set, let's fire up the application. Again, the CommonJS box module works for both Android and iOS. For the sake of demoing the sample app, though, we'll just checkout the iPhone version...When the sample app loads, we're greeted with a webview asking us to log in to our box account. So I'll fill in those values for my account and click "log in"...Now that I'm logged in I can see all the files and folders that I had in my account on the box.com website. I can navigate through folders by clicking... create new folders... upload new files, which in the case of this sample app, will attempt to grab pictures from your gallery... and even click on my files to render them in a webview... so in short, you now have full access to box's cloud storage from your Titanium apps.Since you have full access to the source code for both the sample app and the module, I won't discuss _every_ line of code, but let's investigate a little to get a sense of how it all works together. The real power here is housed in the `box_module.js` file, which is the only file in this project that you _must_ have in your own projects to leverage the Box APIs. In here is the code for calling the RESTful API that box makes available to its developers. The module currently implements, via `Titanium.Network.HTTPClient`, all calls for authentication...  as well as most for upload and download... giving you a solid foundation from which to work. There is also a `callMethod` function which is a generic wrapper for any other box API calls you'd like to implement.** SHow box dev site **If you're feeling ambitious, be sure to check out the box developer's API site where you can see how to implement additional APIs for contacts, collaboration, sharing, and more. This module is open source, and we'll happily accept any contributions.A quick glance in the `app.js` shows we're using the basic single window template. The real work is in the referenced `controllers/ApplicationController.js` file...In this file we again see the configuration settings for box, as well as the loading of the UI and initial login screen. We won't get into the UI too much as it's all application-specific. Instead we'll focus on the Box functionality. The UI construction can be found in the files in the `views` folder...  If we scroll through the controller we can see the implementations for each of the possible interactions in the sample app. The functionality of all the various buttons and clicks in our app are driven through the functions defined on the `ApplicationController` object. Let's take the `dumpFolderContents` function for example... here we are going to query and display the contents of the specified Box folder. To do so we follow a flow that is typical for all other functions in this controller. We first establish references to any global UI objects we'll need to update... Then we make a Box API call via the aforementioned `callMethod` function. We give it the API name, as detailed on the Box developer site... an object holding a list of parameters for the API call... and finally a callback function to execute when the API call returns successfully. The callback will leverage the API's returned data to in turn update the UI. If we scroll back up through the other controller functions, we'll see that this execution flow is used over and over again, affording us the opportunity to loosen the coupling between the box module API calls and our application-specific UI.So there's your crash course for setting up the Box module to work with your Titanium applications. Be sure to check out the official documentation for box's REST API for more details on what you can do. The whole appeal of mobile devices is access to all your information, anywhere, all the time. Now with this simple interface, you have the opportunity to provide exactly that, via Titanium, to all of your app users.Thanks for checking out this episode of Forging Titanium. See ya next time!